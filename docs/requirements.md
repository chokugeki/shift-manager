# 要件定義書

## 1. プロジェクト概要
### 1.1 プロジェクト名
チャート式シフト管理システム

### 1.2 目的
介護施設等の現場において、職員の月間シフト作成および日次の業務割り当て（タスク管理）を効率化し、視認性の高いチャート形式で管理・共有することを目的とする。

### 1.3 ターゲットユーザー
- **管理者**: シフト作成、職員管理、業務割り当てを行う責任者
- **職員**: 自身のシフトや業務内容を確認するスタッフ

## 2. システム要件
### 2.1 動作環境
- **OS**: Windows, macOS, iOS, Android (Webブラウザ経由)
- **ブラウザ**: Google Chrome, Safari, Edge, Firefox (最新版推奨)
- **ネットワーク**: インターネット接続必須（クラウド同期機能利用時）

### 2.2 開発言語・フレームワーク
- **Frontend**: Next.js (React), TypeScript
- **Styling**: Tailwind CSS
- **State Management**: React Context API
- **Data Storage**: LocalStorage (ローカル), JSONBin (クラウド同期)

## 3. 機能要件
### 3.1 シフト管理機能
- **月間シフト表示**: 職員ごとの月間シフトを一覧表示する。
- **シフト入力**: 日勤、早番、遅番、夜勤、公休などのシフト区分をプルダウンで選択・登録できる。
- **希望休管理**: 職員からの休日希望を入力・表示できる。
- **シフト集計**: 職員ごとのシフト回数、日ごとのシフト区分別人数を自動集計する。
- **バリデーション**: 必要人員数（例：早番1名以上）の不足を警告表示する。

### 3.2 業務割り当て（ガントチャート）機能
- **日次ガントチャート**: 選択した日付の業務スケジュールを時間軸（30分単位）で表示する。
- **ドラッグ＆ドロップ/クリック入力**: 業務（入浴介助、食事介助等）をクリック操作で割り当てできる。
- **重複チェック**: 同一職員への業務重複を検知し警告する。
- **コピー＆ペースト**: 過去の業務割り当てパターンをコピーし、別の日付に貼り付けできる。
- **クリア機能**: 日次の割り当てを全消去できる。

### 3.3 マスタ管理機能
- **職員管理**: 職員の登録、編集、削除（氏名、職種等）。
- **業務マスタ管理**: 業務内容（タスク）の登録、編集（名称、色、所要時間）。

### 3.4 その他機能
- **印刷機能**: 月間シフト表および日次ガントチャートをA4横サイズで印刷最適化して出力できる。
- **データ保存**: ブラウザのローカルストレージへの自動保存、およびJSONBinを用いたクラウドバックアップ・復元。

## 4. 非機能要件
### 4.1 ユーザビリティ
- 直感的な操作性（クリック、選択操作中心）。
- 視認性の高い配色（シフト区分、業務区分ごとの色分け）。
- レスポンシブデザイン（PC、タブレットでの閲覧・操作に対応）。

### 4.2 パフォーマンス
- 画面遷移やデータ反映が遅延なくスムーズに行われること。

### 4.3 可用性・信頼性
- ローカルストレージを活用し、オフラインでも閲覧・一部編集が可能であること（同期はオンライン時）。
